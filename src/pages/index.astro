---
export const prerender = false;

import { getSession } from "auth-astro/server";
import Layout from "~/layouts/base.astro";
import PrintForm from "~/components/print-form";
import Login from "~/components/login.astro";

const session = await getSession(Astro.request);
---

<Layout content={{ title: "Print Request" }}>
  {session ? <PrintForm client:load session={session} /> : <Login />}
</Layout>
